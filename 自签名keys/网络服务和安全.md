## Node中的基于安全的模块
1. crypto，包含多种加密解密算法
2. tls，提供了类似net模块的功能，区别在于建立在TLS/SSL加密的TCP上
3. https，与HTTP功能一致，建立于TLS/SSL加密后的连接上

## TLS/SSL是什么？
1. 公钥/密钥结构，非对称结构，公钥用于加密，私钥用于解密
2. 每个服务器端和客户端都有自己的公私钥
3. 加密流程：对方的公钥加密，再用对方的私钥解密  **<br />客户端发送数据 => 服务端的公钥加密数据  => 传输到服务端,服务端私钥解密<br />服务端发送数据 => 客户端公钥加密数据 => 传输到客户端，客户端私钥解密**

## TLS/SSL加密的缺点和数字证书
1. 还是**可能存在窃听**，比如中间人攻击（中间人对客户端扮演服务端的角色，对服务端扮演客户端的角色）。  **解决方法：** 对公钥进行认证，确认得到的公钥是不是出自于目标服务器，所以**引入了数字证书**<br />
> 通俗的说就是： 进行交易的客户端A，服务端B，在自己私下进行交易的时候， A不能保证对面B是不是冒名顶替的，B也不能知道A是不是顶替的， 所以需要加入可信任的第三方去鉴别A,B是不是他们本人，这个可信任的第三方就是数据证书
---


2. **数字证书：** 包含了服务器的名称，主机名，服务器的公钥，签名颁发机构等信息，建立连接前可以通过数字证书确认公钥来自于目标服务器，从而产生信任关系

## 生成TLS/SSL
通过openssl完成
> openssl genrsa --out server.key 1024 // 生成1024位长的私钥<br /><br /> openssl rsa -in server.key -pubout -out server.pem // 生成公钥

## CA证书是什么？ 怎么获取？
客户端发起安全连接之前会去获取服务器端的证书，对服务器名称,IP进行验证，保证安全

CA： 为站点颁发带有CA签名的证书

CA证书获取： 服务端用自己的私钥生成CSR（证书签名文件）

由于CA证书颁发证书过程繁琐，一般中小企业都是用签名证书构建网络安全
自签名证书： 自己扮演CA机构给自己的服务器端颁发签名

自签名过程:
> openssl genrsa -out ca.key 1024&nbsp;&nbsp; // 生成私钥<br />
  openssl req -new -key ca.key -out ca.csr&nbsp;&nbsp; //生成CSR <br />
  openssl x509 -req -in cs.csr -signkey ca.key -out ca.crt&nbsp; // 生成自签名证书
  
 
  
